---
import Layout from "../layouts/Layout.astro";
import SnowyNight from "../components/SnowyNightBg.astro";
---

<style>
  main {
    width: 100%;
    height: 100%;
    position: fixed;
    color: honeydew;
  }

  .shout-here {
    box-sizing: border-box;
    color: honeydew;
    z-index: 10;
    position: relative;
    text-align: center;
    width: 100%;
    height: 100%;
    padding: 2vw;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  input {
    background: none;
    box-shadow: none;
    border: none;
    color: honeydew;
    text-align: center;
    padding: 1vw;
    font-size: 1.1rem;
  }

  input:focus {
    outline: none;
  }
</style>
<Layout>
  <main>
    <SnowyNight />
    <section class="shout-here">
      <input type="text" name="words" value="Type something and hit enter!" />
    </section>
  </main>
</Layout>
<script>
  import Scene from "../classes/Scene";

  const container = document.getElementById("scene");
  const width = container.clientWidth;
  const height = container.clientHeight;
  const scene = new Scene({
    container,
    width,
    height,
    fov: 18,
    cameraDistance: 5,
    aspectRatio: width / height,
  });

  document.addEventListener("visibilitychange", function () {
    if (document.hidden) {
      scene.stopParticleSystem();
      return;
    }
    if (scene.particleInterval === null) {
      scene.startParticleSystem();
    }
  });

  scene.render();
</script>
